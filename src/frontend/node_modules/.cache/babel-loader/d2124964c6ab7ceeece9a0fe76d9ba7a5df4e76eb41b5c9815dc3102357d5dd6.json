{"ast":null,"code":"var _jsxFileName = \"/Users/aaronc/Desktop/VideoClassificationModel/src/frontend/src/components/CameraRecorder.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useCallback } from 'react';\nimport styled from 'styled-components';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CameraContainer = styled.div`\n  background: #f8f9fa;\n  border-radius: 12px;\n  padding: 30px;\n  text-align: center;\n`;\n_c = CameraContainer;\nconst VideoContainer = styled.div`\n  position: relative;\n  max-width: 600px;\n  margin: 0 auto 20px;\n  border-radius: 12px;\n  overflow: hidden;\n  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);\n`;\n_c2 = VideoContainer;\nconst Video = styled.video`\n  width: 100%;\n  height: auto;\n  display: block;\n`;\n_c3 = Video;\nconst Controls = styled.div`\n  display: flex;\n  gap: 15px;\n  justify-content: center;\n  flex-wrap: wrap;\n  margin-bottom: 20px;\n`;\n_c4 = Controls;\nconst Button = styled.button`\n  padding: 12px 24px;\n  border: none;\n  border-radius: 8px;\n  font-size: 16px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  min-width: 120px;\n\n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n  }\n`;\n_c5 = Button;\nconst RecordButton = styled(Button)`\n  background: ${props => props.isRecording ? '#dc3545' : '#28a745'};\n  color: white;\n\n  &:hover:not(:disabled) {\n    transform: translateY(-2px);\n    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);\n  }\n`;\n_c6 = RecordButton;\nconst StopButton = styled(Button)`\n  background: #dc3545;\n  color: white;\n\n  &:hover:not(:disabled) {\n    background: #c82333;\n    transform: translateY(-2px);\n  }\n`;\n_c7 = StopButton;\nconst DownloadButton = styled(Button)`\n  background: #007bff;\n  color: white;\n\n  &:hover:not(:disabled) {\n    background: #0056b3;\n    transform: translateY(-2px);\n  }\n`;\n_c8 = DownloadButton;\nconst Status = styled.div`\n  font-size: 16px;\n  font-weight: 500;\n  color: ${props => props.isRecording ? '#dc3545' : '#28a745'};\n  margin-bottom: 15px;\n`;\n_c9 = Status;\nconst Timer = styled.div`\n  font-size: 24px;\n  font-weight: 700;\n  color: #333;\n  margin-bottom: 15px;\n`;\n_c0 = Timer;\nconst ErrorMessage = styled.div`\n  background: #f8d7da;\n  color: #721c24;\n  padding: 15px;\n  border-radius: 8px;\n  margin-bottom: 20px;\n  border: 1px solid #f5c6cb;\n`;\n_c1 = ErrorMessage;\nconst TroubleshootingSection = styled.div`\n  background: #fff3cd;\n  color: #856404;\n  padding: 15px;\n  border-radius: 8px;\n  margin-bottom: 20px;\n  border: 1px solid #ffeaa7;\n  text-align: left;\n`;\n_c10 = TroubleshootingSection;\nconst TroubleshootingTitle = styled.h4`\n  margin: 0 0 10px 0;\n  color: #856404;\n  font-size: 16px;\n`;\n_c11 = TroubleshootingTitle;\nconst TroubleshootingList = styled.ul`\n  margin: 0;\n  padding-left: 20px;\n`;\n_c12 = TroubleshootingList;\nconst TroubleshootingItem = styled.li`\n  margin-bottom: 5px;\n  font-size: 14px;\n`;\n_c13 = TroubleshootingItem;\nconst SuccessMessage = styled.div`\n  background: #d4edda;\n  color: #155724;\n  padding: 15px;\n  border-radius: 8px;\n  margin-bottom: 20px;\n  border: 1px solid #c3e6cb;\n`;\n_c14 = SuccessMessage;\nconst ClassSelector = styled.div`\n  margin-bottom: 20px;\n`;\n_c15 = ClassSelector;\nconst Input = styled.input`\n  padding: 10px 15px;\n  border: 2px solid #dee2e6;\n  border-radius: 8px;\n  font-size: 16px;\n  background: white;\n  min-width: 200px;\n  width: 100%;\n  max-width: 300px;\n\n  &:focus {\n    outline: none;\n    border-color: #667eea;\n  }\n`;\n_c16 = Input;\nconst Label = styled.label`\n  display: block;\n  margin-bottom: 8px;\n  font-weight: 600;\n  color: #333;\n`;\n_c17 = Label;\nconst RecordingIndicator = styled.div`\n  position: absolute;\n  top: 15px;\n  right: 15px;\n  background: #dc3545;\n  color: white;\n  padding: 8px 12px;\n  border-radius: 20px;\n  font-size: 14px;\n  font-weight: 600;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n`;\n_c18 = RecordingIndicator;\nconst Pulse = styled.div`\n  width: 10px;\n  height: 10px;\n  background: white;\n  border-radius: 50%;\n  animation: pulse 1s infinite;\n\n  @keyframes pulse {\n    0% { opacity: 1; }\n    50% { opacity: 0.5; }\n    100% { opacity: 1; }\n  }\n`;\n_c19 = Pulse;\nfunction CameraRecorder({\n  onVideoRecorded\n}) {\n  _s();\n  const [isRecording, setIsRecording] = useState(false);\n  const [recordedChunks, setRecordedChunks] = useState([]);\n  const [recordedVideo, setRecordedVideo] = useState(null);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n  const [className, setClassName] = useState('');\n  const [recordingTime, setRecordingTime] = useState(0);\n  const [hasPermission, setHasPermission] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const videoRef = useRef(null);\n  const mediaRecorderRef = useRef(null);\n  const streamRef = useRef(null);\n  const timerRef = useRef(null);\n  const startCamera = useCallback(async () => {\n    try {\n      setError(null);\n      setIsLoading(true);\n      console.log('Starting camera...');\n\n      // Check if getUserMedia is supported\n      if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n        setError('Camera access is not supported in this browser. Please use Chrome, Firefox, or Safari.');\n        setIsLoading(false);\n        return;\n      }\n\n      // Simple video constraints\n      const constraints = {\n        video: true,\n        audio: false\n      };\n      console.log('Requesting camera access with constraints:', constraints);\n      const stream = await navigator.mediaDevices.getUserMedia(constraints);\n      console.log('Camera stream obtained:', stream);\n      streamRef.current = stream;\n\n      // Set permission first so video element renders, then set stream\n      setHasPermission(true);\n      setIsLoading(false);\n      console.log('Camera stream obtained, setting permission to render video element');\n    } catch (err) {\n      console.error('Camera error:', err);\n      let errorMessage = 'Camera access denied. ';\n      if (err.name === 'NotAllowedError') {\n        errorMessage += 'Please allow camera permissions in your browser and refresh the page.';\n      } else if (err.name === 'NotFoundError') {\n        errorMessage += 'No camera found. Please connect a camera and try again.';\n      } else if (err.name === 'NotReadableError') {\n        errorMessage += 'Camera is already in use by another application.';\n      } else if (err.name === 'OverconstrainedError') {\n        errorMessage += 'Camera constraints cannot be satisfied.';\n      } else {\n        errorMessage += `Error: ${err.message}`;\n      }\n      setError(errorMessage);\n      setIsLoading(false);\n    }\n  }, []);\n  const stopCamera = useCallback(() => {\n    if (streamRef.current) {\n      streamRef.current.getTracks().forEach(track => track.stop());\n      streamRef.current = null;\n    }\n    if (videoRef.current) {\n      videoRef.current.srcObject = null;\n    }\n    setHasPermission(false);\n  }, []);\n  const startRecording = useCallback(() => {\n    if (!streamRef.current) return;\n    const mediaRecorder = new MediaRecorder(streamRef.current, {\n      mimeType: 'video/webm;codecs=vp9'\n    });\n    mediaRecorderRef.current = mediaRecorder;\n    setRecordedChunks([]);\n    mediaRecorder.ondataavailable = event => {\n      if (event.data.size > 0) {\n        setRecordedChunks(prev => [...prev, event.data]);\n      }\n    };\n    mediaRecorder.onstop = () => {\n      const blob = new Blob(recordedChunks, {\n        type: 'video/webm'\n      });\n      const url = URL.createObjectURL(blob);\n      setRecordedVideo({\n        blob,\n        url\n      });\n    };\n    mediaRecorder.start();\n    setIsRecording(true);\n    setRecordingTime(0);\n\n    // Start timer\n    timerRef.current = setInterval(() => {\n      setRecordingTime(prev => prev + 1);\n    }, 1000);\n  }, [recordedChunks]);\n  const stopRecording = useCallback(() => {\n    if (mediaRecorderRef.current && isRecording) {\n      mediaRecorderRef.current.stop();\n      setIsRecording(false);\n      clearInterval(timerRef.current);\n    }\n  }, [isRecording]);\n  const downloadVideo = useCallback(() => {\n    if (recordedVideo) {\n      const a = document.createElement('a');\n      a.href = recordedVideo.url;\n      a.download = `${className || 'video'}_${Date.now()}.webm`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n    }\n  }, [recordedVideo, className]);\n  const saveToDataset = useCallback(() => {\n    if (recordedVideo && onVideoRecorded && className.trim()) {\n      const file = new File([recordedVideo.blob], `${className.trim()}_${Date.now()}.webm`, {\n        type: 'video/webm'\n      });\n      onVideoRecorded(file, className.trim());\n      setSuccess(`Video saved to ${className.trim()} class!`);\n      setRecordedVideo(null);\n      setRecordedChunks([]);\n      setRecordingTime(0);\n    } else if (!className.trim()) {\n      setError('Please enter a class name before saving the video.');\n    }\n  }, [recordedVideo, className, onVideoRecorded]);\n  const formatTime = seconds => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n  };\n  React.useEffect(() => {\n    return () => {\n      stopCamera();\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n      }\n    };\n  }, [stopCamera]);\n\n  // Simple effect to set stream when both are available\n  React.useEffect(() => {\n    if (videoRef.current && streamRef.current && !hasPermission) {\n      console.log('Setting video stream in useEffect');\n      videoRef.current.srcObject = streamRef.current;\n      setHasPermission(true);\n    }\n  }, [hasPermission]);\n  return /*#__PURE__*/_jsxDEV(CameraContainer, {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"\\uD83D\\uDCF9 Record Video for Dataset\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(ErrorMessage, {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TroubleshootingSection, {\n        children: [/*#__PURE__*/_jsxDEV(TroubleshootingTitle, {\n          children: \"\\uD83D\\uDD27 Troubleshooting Camera Access:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TroubleshootingList, {\n          children: [/*#__PURE__*/_jsxDEV(TroubleshootingItem, {\n            children: \"Make sure you're using HTTPS or localhost (required for camera access)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TroubleshootingItem, {\n            children: \"Check your browser's camera permissions in settings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TroubleshootingItem, {\n            children: \"Close other applications that might be using the camera (Zoom, Skype, etc.)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TroubleshootingItem, {\n            children: \"Try refreshing the page and allowing permissions again\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TroubleshootingItem, {\n            children: \"Make sure your camera is not being used by another browser tab\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TroubleshootingItem, {\n            children: \"Try using Chrome, Firefox, or Safari (best browser support)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), success && /*#__PURE__*/_jsxDEV(SuccessMessage, {\n      children: success\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(ClassSelector, {\n      children: [/*#__PURE__*/_jsxDEV(Label, {\n        htmlFor: \"class-name\",\n        children: \"Class Name:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        id: \"class-name\",\n        type: \"text\",\n        placeholder: \"Enter class name (e.g., PersonA, Walking, etc.)\",\n        value: className,\n        onChange: e => setClassName(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 7\n    }, this), !hasPermission ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: startCamera,\n        disabled: isLoading,\n        style: {\n          background: '#667eea',\n          color: 'white',\n          marginBottom: '10px'\n        },\n        children: isLoading ? '🔄 Starting Camera...' : '📷 Start Camera'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: '12px',\n          color: '#666',\n          marginTop: '10px'\n        },\n        children: [\"Debug: \", isLoading ? 'Loading...' : 'Ready to start camera']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(VideoContainer, {\n        children: [/*#__PURE__*/_jsxDEV(Video, {\n          ref: videoRef,\n          autoPlay: true,\n          muted: true,\n          playsInline: true,\n          style: {\n            width: '100%',\n            height: 'auto'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 13\n        }, this), isRecording && /*#__PURE__*/_jsxDEV(RecordingIndicator, {\n          children: [/*#__PURE__*/_jsxDEV(Pulse, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 17\n          }, this), \"REC\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Status, {\n        isRecording: isRecording,\n        children: isRecording ? '🔴 Recording...' : '📹 Camera Ready'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 428,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: '12px',\n          color: '#666',\n          marginBottom: '15px'\n        },\n        children: [\"Debug: Stream=\", streamRef.current ? '✅' : '❌', \" | Video=\", videoRef.current ? '✅' : '❌', \" | Permission=\", hasPermission ? '✅' : '❌']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 11\n      }, this), isRecording && /*#__PURE__*/_jsxDEV(Timer, {\n        children: formatTime(recordingTime)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Controls, {\n        children: [!isRecording ? /*#__PURE__*/_jsxDEV(RecordButton, {\n          onClick: startRecording,\n          children: \"\\uD83D\\uDD34 Start Recording\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(StopButton, {\n          onClick: stopRecording,\n          children: \"\\u23F9\\uFE0F Stop Recording\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 15\n        }, this), recordedVideo && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(DownloadButton, {\n            onClick: downloadVideo,\n            children: \"\\uD83D\\uDCBE Download\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: saveToDataset,\n            style: {\n              background: '#28a745',\n              color: 'white'\n            },\n            children: \"\\uD83D\\uDCC1 Save to Dataset\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: stopCamera,\n          style: {\n            background: '#6c757d',\n            color: 'white'\n          },\n          children: \"\\uD83D\\uDCF7 Stop Camera\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 365,\n    columnNumber: 5\n  }, this);\n}\n_s(CameraRecorder, \"ZAr9vWFNTmKPTpZ9/ENZOQvnYYI=\");\n_c20 = CameraRecorder;\nexport default CameraRecorder;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20;\n$RefreshReg$(_c, \"CameraContainer\");\n$RefreshReg$(_c2, \"VideoContainer\");\n$RefreshReg$(_c3, \"Video\");\n$RefreshReg$(_c4, \"Controls\");\n$RefreshReg$(_c5, \"Button\");\n$RefreshReg$(_c6, \"RecordButton\");\n$RefreshReg$(_c7, \"StopButton\");\n$RefreshReg$(_c8, \"DownloadButton\");\n$RefreshReg$(_c9, \"Status\");\n$RefreshReg$(_c0, \"Timer\");\n$RefreshReg$(_c1, \"ErrorMessage\");\n$RefreshReg$(_c10, \"TroubleshootingSection\");\n$RefreshReg$(_c11, \"TroubleshootingTitle\");\n$RefreshReg$(_c12, \"TroubleshootingList\");\n$RefreshReg$(_c13, \"TroubleshootingItem\");\n$RefreshReg$(_c14, \"SuccessMessage\");\n$RefreshReg$(_c15, \"ClassSelector\");\n$RefreshReg$(_c16, \"Input\");\n$RefreshReg$(_c17, \"Label\");\n$RefreshReg$(_c18, \"RecordingIndicator\");\n$RefreshReg$(_c19, \"Pulse\");\n$RefreshReg$(_c20, \"CameraRecorder\");","map":{"version":3,"names":["React","useState","useRef","useCallback","styled","jsxDEV","_jsxDEV","Fragment","_Fragment","CameraContainer","div","_c","VideoContainer","_c2","Video","video","_c3","Controls","_c4","Button","button","_c5","RecordButton","props","isRecording","_c6","StopButton","_c7","DownloadButton","_c8","Status","_c9","Timer","_c0","ErrorMessage","_c1","TroubleshootingSection","_c10","TroubleshootingTitle","h4","_c11","TroubleshootingList","ul","_c12","TroubleshootingItem","li","_c13","SuccessMessage","_c14","ClassSelector","_c15","Input","input","_c16","Label","label","_c17","RecordingIndicator","_c18","Pulse","_c19","CameraRecorder","onVideoRecorded","_s","setIsRecording","recordedChunks","setRecordedChunks","recordedVideo","setRecordedVideo","error","setError","success","setSuccess","className","setClassName","recordingTime","setRecordingTime","hasPermission","setHasPermission","isLoading","setIsLoading","videoRef","mediaRecorderRef","streamRef","timerRef","startCamera","console","log","navigator","mediaDevices","getUserMedia","constraints","audio","stream","current","err","errorMessage","name","message","stopCamera","getTracks","forEach","track","stop","srcObject","startRecording","mediaRecorder","MediaRecorder","mimeType","ondataavailable","event","data","size","prev","onstop","blob","Blob","type","url","URL","createObjectURL","start","setInterval","stopRecording","clearInterval","downloadVideo","a","document","createElement","href","download","Date","now","body","appendChild","click","removeChild","saveToDataset","trim","file","File","formatTime","seconds","mins","Math","floor","secs","toString","padStart","useEffect","children","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","id","placeholder","value","onChange","e","target","onClick","disabled","style","background","color","marginBottom","fontSize","marginTop","ref","autoPlay","muted","playsInline","width","height","_c20","$RefreshReg$"],"sources":["/Users/aaronc/Desktop/VideoClassificationModel/src/frontend/src/components/CameraRecorder.js"],"sourcesContent":["import React, { useState, useRef, useCallback } from 'react';\nimport styled from 'styled-components';\n\nconst CameraContainer = styled.div`\n  background: #f8f9fa;\n  border-radius: 12px;\n  padding: 30px;\n  text-align: center;\n`;\n\nconst VideoContainer = styled.div`\n  position: relative;\n  max-width: 600px;\n  margin: 0 auto 20px;\n  border-radius: 12px;\n  overflow: hidden;\n  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);\n`;\n\nconst Video = styled.video`\n  width: 100%;\n  height: auto;\n  display: block;\n`;\n\nconst Controls = styled.div`\n  display: flex;\n  gap: 15px;\n  justify-content: center;\n  flex-wrap: wrap;\n  margin-bottom: 20px;\n`;\n\nconst Button = styled.button`\n  padding: 12px 24px;\n  border: none;\n  border-radius: 8px;\n  font-size: 16px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  min-width: 120px;\n\n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n  }\n`;\n\nconst RecordButton = styled(Button)`\n  background: ${props => props.isRecording ? '#dc3545' : '#28a745'};\n  color: white;\n\n  &:hover:not(:disabled) {\n    transform: translateY(-2px);\n    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);\n  }\n`;\n\nconst StopButton = styled(Button)`\n  background: #dc3545;\n  color: white;\n\n  &:hover:not(:disabled) {\n    background: #c82333;\n    transform: translateY(-2px);\n  }\n`;\n\nconst DownloadButton = styled(Button)`\n  background: #007bff;\n  color: white;\n\n  &:hover:not(:disabled) {\n    background: #0056b3;\n    transform: translateY(-2px);\n  }\n`;\n\nconst Status = styled.div`\n  font-size: 16px;\n  font-weight: 500;\n  color: ${props => props.isRecording ? '#dc3545' : '#28a745'};\n  margin-bottom: 15px;\n`;\n\nconst Timer = styled.div`\n  font-size: 24px;\n  font-weight: 700;\n  color: #333;\n  margin-bottom: 15px;\n`;\n\nconst ErrorMessage = styled.div`\n  background: #f8d7da;\n  color: #721c24;\n  padding: 15px;\n  border-radius: 8px;\n  margin-bottom: 20px;\n  border: 1px solid #f5c6cb;\n`;\n\nconst TroubleshootingSection = styled.div`\n  background: #fff3cd;\n  color: #856404;\n  padding: 15px;\n  border-radius: 8px;\n  margin-bottom: 20px;\n  border: 1px solid #ffeaa7;\n  text-align: left;\n`;\n\nconst TroubleshootingTitle = styled.h4`\n  margin: 0 0 10px 0;\n  color: #856404;\n  font-size: 16px;\n`;\n\nconst TroubleshootingList = styled.ul`\n  margin: 0;\n  padding-left: 20px;\n`;\n\nconst TroubleshootingItem = styled.li`\n  margin-bottom: 5px;\n  font-size: 14px;\n`;\n\nconst SuccessMessage = styled.div`\n  background: #d4edda;\n  color: #155724;\n  padding: 15px;\n  border-radius: 8px;\n  margin-bottom: 20px;\n  border: 1px solid #c3e6cb;\n`;\n\nconst ClassSelector = styled.div`\n  margin-bottom: 20px;\n`;\n\nconst Input = styled.input`\n  padding: 10px 15px;\n  border: 2px solid #dee2e6;\n  border-radius: 8px;\n  font-size: 16px;\n  background: white;\n  min-width: 200px;\n  width: 100%;\n  max-width: 300px;\n\n  &:focus {\n    outline: none;\n    border-color: #667eea;\n  }\n`;\n\nconst Label = styled.label`\n  display: block;\n  margin-bottom: 8px;\n  font-weight: 600;\n  color: #333;\n`;\n\nconst RecordingIndicator = styled.div`\n  position: absolute;\n  top: 15px;\n  right: 15px;\n  background: #dc3545;\n  color: white;\n  padding: 8px 12px;\n  border-radius: 20px;\n  font-size: 14px;\n  font-weight: 600;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n`;\n\nconst Pulse = styled.div`\n  width: 10px;\n  height: 10px;\n  background: white;\n  border-radius: 50%;\n  animation: pulse 1s infinite;\n\n  @keyframes pulse {\n    0% { opacity: 1; }\n    50% { opacity: 0.5; }\n    100% { opacity: 1; }\n  }\n`;\n\nfunction CameraRecorder({ onVideoRecorded }) {\n  const [isRecording, setIsRecording] = useState(false);\n  const [recordedChunks, setRecordedChunks] = useState([]);\n  const [recordedVideo, setRecordedVideo] = useState(null);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n  const [className, setClassName] = useState('');\n  const [recordingTime, setRecordingTime] = useState(0);\n  const [hasPermission, setHasPermission] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const videoRef = useRef(null);\n  const mediaRecorderRef = useRef(null);\n  const streamRef = useRef(null);\n  const timerRef = useRef(null);\n\n  const startCamera = useCallback(async () => {\n    try {\n      setError(null);\n      setIsLoading(true);\n      \n      console.log('Starting camera...');\n      \n      // Check if getUserMedia is supported\n      if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n        setError('Camera access is not supported in this browser. Please use Chrome, Firefox, or Safari.');\n        setIsLoading(false);\n        return;\n      }\n      \n      // Simple video constraints\n      const constraints = {\n        video: true,\n        audio: false\n      };\n      \n      console.log('Requesting camera access with constraints:', constraints);\n      const stream = await navigator.mediaDevices.getUserMedia(constraints);\n      \n      console.log('Camera stream obtained:', stream);\n      streamRef.current = stream;\n      \n      // Set permission first so video element renders, then set stream\n      setHasPermission(true);\n      setIsLoading(false);\n      console.log('Camera stream obtained, setting permission to render video element');\n      \n    } catch (err) {\n      console.error('Camera error:', err);\n      \n      let errorMessage = 'Camera access denied. ';\n      \n      if (err.name === 'NotAllowedError') {\n        errorMessage += 'Please allow camera permissions in your browser and refresh the page.';\n      } else if (err.name === 'NotFoundError') {\n        errorMessage += 'No camera found. Please connect a camera and try again.';\n      } else if (err.name === 'NotReadableError') {\n        errorMessage += 'Camera is already in use by another application.';\n      } else if (err.name === 'OverconstrainedError') {\n        errorMessage += 'Camera constraints cannot be satisfied.';\n      } else {\n        errorMessage += `Error: ${err.message}`;\n      }\n      \n      setError(errorMessage);\n      setIsLoading(false);\n    }\n  }, []);\n\n  const stopCamera = useCallback(() => {\n    if (streamRef.current) {\n      streamRef.current.getTracks().forEach(track => track.stop());\n      streamRef.current = null;\n    }\n    if (videoRef.current) {\n      videoRef.current.srcObject = null;\n    }\n    setHasPermission(false);\n  }, []);\n\n  const startRecording = useCallback(() => {\n    if (!streamRef.current) return;\n\n    const mediaRecorder = new MediaRecorder(streamRef.current, {\n      mimeType: 'video/webm;codecs=vp9'\n    });\n\n    mediaRecorderRef.current = mediaRecorder;\n    setRecordedChunks([]);\n\n    mediaRecorder.ondataavailable = (event) => {\n      if (event.data.size > 0) {\n        setRecordedChunks(prev => [...prev, event.data]);\n      }\n    };\n\n    mediaRecorder.onstop = () => {\n      const blob = new Blob(recordedChunks, { type: 'video/webm' });\n      const url = URL.createObjectURL(blob);\n      setRecordedVideo({ blob, url });\n    };\n\n    mediaRecorder.start();\n    setIsRecording(true);\n    setRecordingTime(0);\n\n    // Start timer\n    timerRef.current = setInterval(() => {\n      setRecordingTime(prev => prev + 1);\n    }, 1000);\n  }, [recordedChunks]);\n\n  const stopRecording = useCallback(() => {\n    if (mediaRecorderRef.current && isRecording) {\n      mediaRecorderRef.current.stop();\n      setIsRecording(false);\n      clearInterval(timerRef.current);\n    }\n  }, [isRecording]);\n\n  const downloadVideo = useCallback(() => {\n    if (recordedVideo) {\n      const a = document.createElement('a');\n      a.href = recordedVideo.url;\n      a.download = `${className || 'video'}_${Date.now()}.webm`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n    }\n  }, [recordedVideo, className]);\n\n  const saveToDataset = useCallback(() => {\n    if (recordedVideo && onVideoRecorded && className.trim()) {\n      const file = new File([recordedVideo.blob], `${className.trim()}_${Date.now()}.webm`, {\n        type: 'video/webm'\n      });\n      onVideoRecorded(file, className.trim());\n      setSuccess(`Video saved to ${className.trim()} class!`);\n      setRecordedVideo(null);\n      setRecordedChunks([]);\n      setRecordingTime(0);\n    } else if (!className.trim()) {\n      setError('Please enter a class name before saving the video.');\n    }\n  }, [recordedVideo, className, onVideoRecorded]);\n\n  const formatTime = (seconds) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  React.useEffect(() => {\n    return () => {\n      stopCamera();\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n      }\n    };\n  }, [stopCamera]);\n\n  // Simple effect to set stream when both are available\n  React.useEffect(() => {\n    if (videoRef.current && streamRef.current && !hasPermission) {\n      console.log('Setting video stream in useEffect');\n      videoRef.current.srcObject = streamRef.current;\n      setHasPermission(true);\n    }\n  }, [hasPermission]);\n\n  return (\n    <CameraContainer>\n      <h3>📹 Record Video for Dataset</h3>\n      \n      {error && (\n        <>\n          <ErrorMessage>{error}</ErrorMessage>\n          <TroubleshootingSection>\n            <TroubleshootingTitle>🔧 Troubleshooting Camera Access:</TroubleshootingTitle>\n            <TroubleshootingList>\n              <TroubleshootingItem>Make sure you're using HTTPS or localhost (required for camera access)</TroubleshootingItem>\n              <TroubleshootingItem>Check your browser's camera permissions in settings</TroubleshootingItem>\n              <TroubleshootingItem>Close other applications that might be using the camera (Zoom, Skype, etc.)</TroubleshootingItem>\n              <TroubleshootingItem>Try refreshing the page and allowing permissions again</TroubleshootingItem>\n              <TroubleshootingItem>Make sure your camera is not being used by another browser tab</TroubleshootingItem>\n              <TroubleshootingItem>Try using Chrome, Firefox, or Safari (best browser support)</TroubleshootingItem>\n            </TroubleshootingList>\n          </TroubleshootingSection>\n        </>\n      )}\n      {success && <SuccessMessage>{success}</SuccessMessage>}\n\n      <ClassSelector>\n        <Label htmlFor=\"class-name\">Class Name:</Label>\n        <Input\n          id=\"class-name\"\n          type=\"text\"\n          placeholder=\"Enter class name (e.g., PersonA, Walking, etc.)\"\n          value={className}\n          onChange={(e) => setClassName(e.target.value)}\n        />\n      </ClassSelector>\n\n      {!hasPermission ? (\n        <div>\n          <Button \n            onClick={startCamera} \n            disabled={isLoading}\n            style={{ background: '#667eea', color: 'white', marginBottom: '10px' }}\n          >\n            {isLoading ? '🔄 Starting Camera...' : '📷 Start Camera'}\n          </Button>\n          <div style={{ fontSize: '12px', color: '#666', marginTop: '10px' }}>\n            Debug: {isLoading ? 'Loading...' : 'Ready to start camera'}\n          </div>\n        </div>\n      ) : (\n        <>\n          <VideoContainer>\n            <Video\n              ref={videoRef}\n              autoPlay\n              muted\n              playsInline\n              style={{ width: '100%', height: 'auto' }}\n            />\n            {isRecording && (\n              <RecordingIndicator>\n                <Pulse />\n                REC\n              </RecordingIndicator>\n            )}\n          </VideoContainer>\n\n          <Status isRecording={isRecording}>\n            {isRecording ? '🔴 Recording...' : '📹 Camera Ready'}\n          </Status>\n          \n          <div style={{ fontSize: '12px', color: '#666', marginBottom: '15px' }}>\n            Debug: Stream={streamRef.current ? '✅' : '❌'} | Video={videoRef.current ? '✅' : '❌'} | Permission={hasPermission ? '✅' : '❌'}\n          </div>\n\n          {isRecording && (\n            <Timer>{formatTime(recordingTime)}</Timer>\n          )}\n\n          <Controls>\n            {!isRecording ? (\n              <RecordButton onClick={startRecording}>\n                🔴 Start Recording\n              </RecordButton>\n            ) : (\n              <StopButton onClick={stopRecording}>\n                ⏹️ Stop Recording\n              </StopButton>\n            )}\n\n            {recordedVideo && (\n              <>\n                <DownloadButton onClick={downloadVideo}>\n                  💾 Download\n                </DownloadButton>\n                <Button\n                  onClick={saveToDataset}\n                  style={{ background: '#28a745', color: 'white' }}\n                >\n                  📁 Save to Dataset\n                </Button>\n              </>\n            )}\n\n            <Button\n              onClick={stopCamera}\n              style={{ background: '#6c757d', color: 'white' }}\n            >\n              📷 Stop Camera\n            </Button>\n          </Controls>\n        </>\n      )}\n    </CameraContainer>\n  );\n}\n\nexport default CameraRecorder;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,EAAEC,WAAW,QAAQ,OAAO;AAC5D,OAAOC,MAAM,MAAM,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEvC,MAAMC,eAAe,GAAGL,MAAM,CAACM,GAAG;AAClC;AACA;AACA;AACA;AACA,CAAC;AAACC,EAAA,GALIF,eAAe;AAOrB,MAAMG,cAAc,GAAGR,MAAM,CAACM,GAAG;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACG,GAAA,GAPID,cAAc;AASpB,MAAME,KAAK,GAAGV,MAAM,CAACW,KAAK;AAC1B;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAJIF,KAAK;AAMX,MAAMG,QAAQ,GAAGb,MAAM,CAACM,GAAG;AAC3B;AACA;AACA;AACA;AACA;AACA,CAAC;AAACQ,GAAA,GANID,QAAQ;AAQd,MAAME,MAAM,GAAGf,MAAM,CAACgB,MAAM;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAdIF,MAAM;AAgBZ,MAAMG,YAAY,GAAGlB,MAAM,CAACe,MAAM,CAAC;AACnC,gBAAgBI,KAAK,IAAIA,KAAK,CAACC,WAAW,GAAG,SAAS,GAAG,SAAS;AAClE;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GARIH,YAAY;AAUlB,MAAMI,UAAU,GAAGtB,MAAM,CAACe,MAAM,CAAC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACQ,GAAA,GARID,UAAU;AAUhB,MAAME,cAAc,GAAGxB,MAAM,CAACe,MAAM,CAAC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACU,GAAA,GARID,cAAc;AAUpB,MAAME,MAAM,GAAG1B,MAAM,CAACM,GAAG;AACzB;AACA;AACA,WAAWa,KAAK,IAAIA,KAAK,CAACC,WAAW,GAAG,SAAS,GAAG,SAAS;AAC7D;AACA,CAAC;AAACO,GAAA,GALID,MAAM;AAOZ,MAAME,KAAK,GAAG5B,MAAM,CAACM,GAAG;AACxB;AACA;AACA;AACA;AACA,CAAC;AAACuB,GAAA,GALID,KAAK;AAOX,MAAME,YAAY,GAAG9B,MAAM,CAACM,GAAG;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACyB,GAAA,GAPID,YAAY;AASlB,MAAME,sBAAsB,GAAGhC,MAAM,CAACM,GAAG;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAAC2B,IAAA,GARID,sBAAsB;AAU5B,MAAME,oBAAoB,GAAGlC,MAAM,CAACmC,EAAE;AACtC;AACA;AACA;AACA,CAAC;AAACC,IAAA,GAJIF,oBAAoB;AAM1B,MAAMG,mBAAmB,GAAGrC,MAAM,CAACsC,EAAE;AACrC;AACA;AACA,CAAC;AAACC,IAAA,GAHIF,mBAAmB;AAKzB,MAAMG,mBAAmB,GAAGxC,MAAM,CAACyC,EAAE;AACrC;AACA;AACA,CAAC;AAACC,IAAA,GAHIF,mBAAmB;AAKzB,MAAMG,cAAc,GAAG3C,MAAM,CAACM,GAAG;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACsC,IAAA,GAPID,cAAc;AASpB,MAAME,aAAa,GAAG7C,MAAM,CAACM,GAAG;AAChC;AACA,CAAC;AAACwC,IAAA,GAFID,aAAa;AAInB,MAAME,KAAK,GAAG/C,MAAM,CAACgD,KAAK;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GAdIF,KAAK;AAgBX,MAAMG,KAAK,GAAGlD,MAAM,CAACmD,KAAK;AAC1B;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GALIF,KAAK;AAOX,MAAMG,kBAAkB,GAAGrD,MAAM,CAACM,GAAG;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACgD,IAAA,GAbID,kBAAkB;AAexB,MAAME,KAAK,GAAGvD,MAAM,CAACM,GAAG;AACxB;AACA;AACA;AACA;AACA;AACA;AAC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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}